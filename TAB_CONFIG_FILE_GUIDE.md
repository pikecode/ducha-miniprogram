# ğŸ“„ Tabé…ç½®æ–‡ä»¶ä½¿ç”¨æŒ‡å—

## ğŸ¯ æ¦‚è¿°

é€šè¿‡é…ç½®æ–‡ä»¶ `src/config/tabConfig.json` æ¥ç®¡ç†åº•éƒ¨Tabæ çš„æ˜¾ç¤ºå†…å®¹ã€é¡ºåºå’Œæƒé™æ§åˆ¶ï¼Œæ— éœ€UIç•Œé¢ï¼Œç›´æ¥ä¿®æ”¹é…ç½®æ–‡ä»¶å³å¯ç”Ÿæ•ˆã€‚

## ğŸ“ é…ç½®æ–‡ä»¶ç»“æ„

### æ ¸å¿ƒé…ç½®æ–‡ä»¶
```
src/config/tabConfig.json
```

### ç®¡ç†å™¨æ–‡ä»¶
```
src/utils/configTabManager.ts
```

## âš™ï¸ é…ç½®æ–‡ä»¶è¯¦è§£

### 1. åŸºç¡€ç»“æ„
```json
{
  "version": "1.0.0",
  "description": "åº•éƒ¨Tabæ é…ç½®æ–‡ä»¶",
  "lastUpdated": "2024-10-01",
  "config": {
    "style": { ... },
    "tabs": [ ... ]
  },
  "environments": { ... },
  "permissions": { ... }
}
```

### 2. Tabé¡¹é…ç½®
```json
{
  "id": "home",                    // Tabå”¯ä¸€æ ‡è¯†
  "pagePath": "pages/index/index", // é¡µé¢è·¯å¾„
  "text": "é¦–é¡µ",                  // æ˜¾ç¤ºæ–‡æœ¬
  "icon": "ğŸ ",                   // é»˜è®¤å›¾æ ‡
  "selectedIcon": "ğŸ ",           // é€‰ä¸­å›¾æ ‡
  "enabled": true,                // æ˜¯å¦å¯ç”¨
  "order": 1,                     // æ˜¾ç¤ºé¡ºåº
  "roles": ["admin", "user", "guest"] // å…è®¸è®¿é—®çš„è§’è‰²
}
```

### 3. æ ·å¼é…ç½®
```json
"style": {
  "color": "#999999",           // é»˜è®¤æ–‡å­—é¢œè‰²
  "selectedColor": "#007aff",   // é€‰ä¸­æ–‡å­—é¢œè‰²
  "backgroundColor": "#ffffff", // èƒŒæ™¯é¢œè‰²
  "borderStyle": "black"        // è¾¹æ¡†æ ·å¼
}
```

### 4. æƒé™é…ç½®
```json
"permissions": {
  "roles": {
    "admin": {
      "name": "ç®¡ç†å‘˜",
      "description": "æ‹¥æœ‰æ‰€æœ‰æƒé™",
      "allowedTabs": ["*"]
    },
    "user": {
      "name": "æ™®é€šç”¨æˆ·",
      "description": "åŸºç¡€åŠŸèƒ½æƒé™",
      "allowedTabs": ["home", "dataReport", "qualityControl", "oralAI"]
    }
  }
}
```

## ğŸ”§ å¸¸ç”¨æ“ä½œ

### 1. å¯ç”¨/ç¦ç”¨Tab
ä¿®æ”¹Tabé¡¹çš„ `enabled` å­—æ®µï¼š
```json
{
  "id": "department",
  "enabled": true,  // æ”¹ä¸º false ç¦ç”¨
  // ...å…¶ä»–é…ç½®
}
```

### 2. è°ƒæ•´Tabé¡ºåº
ä¿®æ”¹Tabé¡¹çš„ `order` å­—æ®µï¼š
```json
{
  "id": "oralAI",
  "order": 2,  // æ•°å­—è¶Šå°è¶Šé å‰
  // ...å…¶ä»–é…ç½®
}
```

### 3. æƒé™æ§åˆ¶
ä¿®æ”¹Tabé¡¹çš„ `roles` å­—æ®µï¼š
```json
{
  "id": "department",
  "roles": ["admin"],  // ä»…ç®¡ç†å‘˜å¯è§
  // ...å…¶ä»–é…ç½®
}
```

### 4. ä¿®æ”¹å›¾æ ‡
æ›´æ¢Tabçš„å›¾æ ‡ï¼š
```json
{
  "id": "home",
  "icon": "ğŸ¡",        // é»˜è®¤çŠ¶æ€å›¾æ ‡
  "selectedIcon": "ğŸ ", // é€‰ä¸­çŠ¶æ€å›¾æ ‡
  // ...å…¶ä»–é…ç½®
}
```

## ğŸš€ é…ç½®ç¤ºä¾‹

### ç¤ºä¾‹1ï¼šç®¡ç†å‘˜çœ‹åˆ°æ‰€æœ‰Tab
ç”¨æˆ·è§’è‰²ä¸º `admin` æ—¶ï¼Œå¯ä»¥çœ‹åˆ°æ‰€æœ‰å¯ç”¨çš„Tabã€‚

### ç¤ºä¾‹2ï¼šæ™®é€šç”¨æˆ·é™åˆ¶æƒé™
```json
// ç”¨æˆ·è§’è‰²ä¸º "user" æ—¶ï¼Œåªèƒ½çœ‹åˆ°åŸºç¡€åŠŸèƒ½Tab
{
  "id": "department",
  "enabled": true,
  "roles": ["admin"]  // æ™®é€šç”¨æˆ·çœ‹ä¸åˆ°æ­¤Tab
}
```

### ç¤ºä¾‹3ï¼šå¼€å‘ç¯å¢ƒæ˜¾ç¤ºæ‰€æœ‰Tab
```json
"environments": {
  "development": {
    "enableDebugTab": true,
    "showAllTabs": true  // å¼€å‘æ—¶æ˜¾ç¤ºæ‰€æœ‰Tab
  }
}
```

## ğŸ” è°ƒè¯•å’ŒéªŒè¯

### 1. æ§åˆ¶å°æ—¥å¿—
å¯åŠ¨æ—¶æŸ¥çœ‹æ—¥å¿—ï¼š
```
åˆå§‹åŒ–åŸºäºé…ç½®æ–‡ä»¶çš„TabBar
é…ç½®ç»Ÿè®¡: {version: "1.0.0", totalTabs: 6, enabledTabs: 4, userRole: "user"}
å¯ç”¨çš„Tab: [{id: "home", text: "é¦–é¡µ"}, ...]
```

### 2. é…ç½®éªŒè¯
ç³»ç»Ÿä¼šè‡ªåŠ¨éªŒè¯é…ç½®ï¼š
- Tabæ•°é‡ä¸è¶…è¿‡5ä¸ª
- IDå’Œé¡µé¢è·¯å¾„å”¯ä¸€æ€§
- ç”¨æˆ·æƒé™æ£€æŸ¥

### 3. æ‰‹åŠ¨æµ‹è¯•
åœ¨æ§åˆ¶å°æ‰§è¡Œï¼š
```javascript
// è·å–é…ç½®ç»Ÿè®¡
console.log(configTabManager.getConfigStats())

// è·å–å½“å‰ç”¨æˆ·å¯è§Tab
console.log(configTabManager.getEnabledTabs())

// åˆ‡æ¢ç”¨æˆ·è§’è‰²æµ‹è¯•
configTabManager.setUserRole('admin')
```

## ğŸ“‹ é¢„è®¾é…ç½®æ–¹æ¡ˆ

### æ–¹æ¡ˆ1ï¼šåŸºç¡€ç‰ˆï¼ˆ4ä¸ªTabï¼‰
- é¦–é¡µã€æ•°æ®ä¸ŠæŠ¥ã€ç£æŸ¥ã€å£è…”AI
- é€‚åˆæ™®é€šç”¨æˆ·

### æ–¹æ¡ˆ2ï¼šå®Œæ•´ç‰ˆï¼ˆ6ä¸ªTabï¼‰
- é¦–é¡µã€æ•°æ®ä¸ŠæŠ¥ã€ç£æŸ¥ã€å£è…”AIã€éƒ¨é—¨ç®¡ç†ã€æ‚£è€…ç®¡ç†
- é€‚åˆç®¡ç†å‘˜ç”¨æˆ·

### æ–¹æ¡ˆ3ï¼šç²¾ç®€ç‰ˆï¼ˆ3ä¸ªTabï¼‰
- é¦–é¡µã€æ•°æ®ä¸ŠæŠ¥ã€ç£æŸ¥
- é€‚åˆè®¿å®¢ç”¨æˆ·

## âš ï¸ æ³¨æ„äº‹é¡¹

### 1. é…ç½®é™åˆ¶
- æœ€å¤šæ”¯æŒ5ä¸ªTabï¼ˆå°ç¨‹åºé™åˆ¶ï¼‰
- Tab IDå¿…é¡»å”¯ä¸€
- é¡µé¢è·¯å¾„å¿…é¡»åœ¨ `app.config.ts` ä¸­æ³¨å†Œ

### 2. æƒé™ç³»ç»Ÿ
- ç”¨æˆ·è§’è‰²ä» `userInfo.role` è¯»å–
- é»˜è®¤è§’è‰²ä¸º `user`
- ç®¡ç†å‘˜ç”¨æˆ·åä¸º `admin` æ—¶è‡ªåŠ¨è®¾ç½®ä¸º `admin` è§’è‰²

### 3. ç”Ÿæ•ˆæœºåˆ¶
- é…ç½®ä¿®æ”¹åéœ€è¦é‡æ–°ç¼–è¯‘
- ç”¨æˆ·è§’è‰²å˜åŒ–éœ€è¦é‡å¯åº”ç”¨

## ğŸ”„ é…ç½®æ›´æ–°æµç¨‹

1. **ä¿®æ”¹é…ç½®**ï¼šç¼–è¾‘ `src/config/tabConfig.json`
2. **éªŒè¯é…ç½®**ï¼šæ£€æŸ¥JSONæ ¼å¼å’Œå­—æ®µå®Œæ•´æ€§
3. **é‡æ–°ç¼–è¯‘**ï¼š`npm run build:weapp`
4. **æµ‹è¯•éªŒè¯**ï¼šå¾®ä¿¡å¼€å‘è€…å·¥å…·ä¸­æµ‹è¯•
5. **éƒ¨ç½²å‘å¸ƒ**ï¼šä¸Šä¼ åˆ°æ­£å¼ç¯å¢ƒ

## ğŸ› ï¸ é«˜çº§åŠŸèƒ½

### 1. ç¯å¢ƒåŒºåˆ†
å¼€å‘ç¯å¢ƒå’Œç”Ÿäº§ç¯å¢ƒå¯ä»¥æœ‰ä¸åŒçš„é…ç½®ç­–ç•¥ã€‚

### 2. åŠ¨æ€æƒé™
æ”¯æŒåŸºäºç”¨æˆ·è§’è‰²çš„åŠ¨æ€Tabæ˜¾ç¤ºã€‚

### 3. é…ç½®ç‰ˆæœ¬ç®¡ç†
é€šè¿‡ç‰ˆæœ¬å·è¿½è¸ªé…ç½®å˜æ›´å†å²ã€‚

### 4. ç»Ÿè®¡åˆ†æ
æä¾›é…ç½®ä½¿ç”¨ç»Ÿè®¡å’Œåˆ†æåŠŸèƒ½ã€‚

ç°åœ¨ä½ å¯ä»¥é€šè¿‡ä¿®æ”¹é…ç½®æ–‡ä»¶æ¥å®Œå…¨æ§åˆ¶Tabçš„æ˜¾ç¤ºã€é¡ºåºå’Œæƒé™äº†ï¼ğŸ‰